# Data Sanitization

Project of course **Natural Language Processing (NLP)** and **Deep Learning (DL)** - University of Salerno.

## Contributors
[@raffaele-aurucci](https://github.com/raffaele-aurucci), [@vincenzo10b](https://github.com/vincenzo10b)
## Introduction

The protection of personal data is crucial in the context of clinical research, particularly regarding health data. The General Data Protection Regulation (GDPR) provides the main guidelines for managing personal data. In particular, Article 4 defines the concepts of "personal data" and "processing," providing a useful framework to understand how sensitive information should be managed. Article 9 establishes that the processing of sensitive data, including health-related data, is generally prohibited, except in certain cases, such as for scientific research purposes or when explicit consent from the data subject is provided. In these contexts, data anonymization is a fundamental tool to protect patient privacy while still allowing the use of data for clinical studies and statistical analyses.

Several techniques are well-known in the literature for data protection, including Data Encryption, Data Masking, Data Anonymization, Data Randomization, and Data Generalization, some of which can also leverage advanced language models (LLMs) to improve the effectiveness of anonymization or masking processes.

In this work, the focus is on analyzing these techniques to understand which is most effective in preserving privacy without compromising the usability and integrity of clinical data. Additionally, the possibility of using Text Summarization models to generate anonymized clinical notes from complete medical records is explored, in accordance with the previously discussed criteria for confidentiality and data integrity.

## Project Objectives

The objectives pursued during this project include:

1. The application of different anonymization techniques, such as Data Encryption, Data Masking, Data Anonymization, Data Randomization, and Data Generalization, using Named Entity Recognition (NER) tools and Large Language Models (LLMs).
2. Evaluation of the adopted techniques in terms of **anonymization sensitivity** (how well sensitive data is effectively removed or made unrecognizable) and **clinical information loss** (how much clinically relevant content is preserved).
3. Exploring the possibility of training Text Summarization models to generate anonymized clinical notes from full medical texts, ensuring privacy protection and the preservation of clinically relevant information.

## Research Questions

This work focuses on the following research questions:

- **RQ1:** Which clinical data anonymization techniques offer the best balance between privacy protection and maintaining the utility of the data for research?  
- **RQ2:** Is it possible to use Text Summarization models to generate anonymized clinical notes from full medical records while ensuring both patient privacy and the integrity of clinical information?


## Contents of repository

This repository is organized into the following main directories:

- **`data_privacy_techniques/`**  
  Contains the notebooks related to the different anonymization techniques that have been tested and implemented.  

- **`data_evaluations/`**  
  Contains the notebooks for evaluating the anonymized data in terms of **anonymization sensitivity** and **clinical information loss**.  
  The evaluation leverages the following metrics from [this work](https://arxiv.org/abs/2406.00062):  
  *ALID, LR, LRQI, JSC, and NSDCG*.  

- **`datasets/`**  
  Contains the full datasets on which anonymization techniques were applied, along with sample datasets used for evaluation.  
  This folder also includes **dataset summaries** generated by Text Summarization models.  

- **`models/`**  
  Contains the notebooks of the Text Summarization models trained on the sample datasets prepared in the previous step.  

- **`summary_evaluations/`**  
  Contains the notebooks for evaluating the summaries produced by the trained Text Summarization models.  

- **`plot/`**  
  Contains the plots and visualizations related to **performance metrics** and **model training**.  

## Installation Guide
To install the necessary requirements for the project, please follow the steps below.

### Installing Python
Verify you have Python installed on your machine. The project is compatible with Python `3.10`.

If you do not have Python installed, please refer to the official [Python Guide](https://www.python.org/downloads/).

### Cloning the Repository 
To clone this repository, download and extract the `.zip` project files using the `<Code>` button on the top-right or run the following command in your terminal:
```shell 
git clone https://github.com/raffaele-aurucci/DataSanitization.git
```

### Creating the Virtual Environment 
It's strongly recommended to create a virtual environment for the project and activate it before proceeding. 
Feel free to use any Python package manager to create the virtual environment. However, for a smooth installation of the requirements we recommend you use `pip`. Please refer to [Creating a virtual environment](https://packaging.python.org/en/latest/guides/installing-using-pip-and-virtual-environments/#creating-a-virtual-environment).

You may skip this step, but please keep in mind that doing so could potentially lead to conflicts if you have other projects on your machine. 
### Installing Requirements
To install the requirements, please: 
1. Make sure you have **activated the virtual environment where you installed the project's requirements**. If activated, your terminal, assuming you are using **bash**, should look like the following: ``(name-of-your-virtual-environment) user@user path``

2. Install the project requirements using `pip`:
```shell 
pip install -r requirements.txt
```